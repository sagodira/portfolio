---
const title = "MES PROJETS";
import Navigation from "../components/Header.astro";
import BaseLayout from "../layouts/BaseLayout.astro";

// Importation des données JSON
import projectData from "../data/projectData.json";
---

<html lang="en">
    <BaseLayout>
        <Navigation />

        <main class="bg-red-500 px-6 py-10">
            <h1 class="text-center text-3xl font-bold text-black mb-10">
                {title}
            </h1>
        
            <!-- Conteneur principal pour la galerie et le texte -->
            <div class="flex flex-col lg:flex-row lg:space-x-4">
                <!-- Section galerie -->
                <section
                    class="gallery flex-1 columns-1 sm:columns-2 md:columns-3 lg:columns-4 gap-4 space-y-4"
                >
                    {
                        projectData.map((project) => (
                            <figure
                                key={project.id}
                                class="gallery-item relative group break-inside-avoid overflow-hidden rounded-lg shadow-lg bg-white"
                            >
                                <img
                                    src={project.image}
                                    alt={project.name}
                                    class="gallery-image w-full h-auto object-cover transform transition-transform duration-300 group-hover:scale-105 cursor-pointer"
                                />
                            </figure>
                        ))
                    }
                </section>
        
                <!-- Section texte -->
                <aside
                    class="bg-white p-6 rounded-lg shadow-lg lg:w-5/12 max-w-xl text-sm"
                >
                    <h2 class="font-bold text-lg mb-2">SAINT MUZE</h2>
                    <p>
                        Saint-Muze constituait un projet universitaire mêlant création 3D, webdesign et motion design. L'objectif était de recréer en 3D un objet innovant existant, puis de concevoir un site web dédié à cet objet, avant d'animer ce site. Pour ma réalisation, j'ai choisi de travailler sur Saint-Muze, une entreprise spécialisée dans l'upcycling, qui crée des sacs à partir de vêtements de marques telles que Nike.
                    </p>
                </aside>
            </div>
        </main>
        

        <!-- Lightbox -->
        <div
            id="lightbox"
            class="hidden fixed inset-0 bg-black bg-opacity-80 flex items-center justify-center z-50"
        >
            <span
                id="lightbox-close"
                class="absolute top-4 right-4 text-white text-4xl cursor-pointer"
            >
                &times;
            </span>
            <img
                id="lightbox-image"
                src=""
                alt="Lightbox Image"
                class="max-w-full max-h-full"
            />
        </div>


        <script>
            document.addEventListener("DOMContentLoaded", () => {
                const galleryImages =
                    document.querySelectorAll(".gallery-image");
                const lightbox = document.getElementById("lightbox");
                const lightboxImage = document.getElementById("lightbox-image");
                const lightboxClose = document.getElementById("lightbox-close");

                // Open lightbox on image click
                galleryImages.forEach((image) => {
                    image.addEventListener("click", () => {
                        lightboxImage.src = image.src;
                        lightbox.classList.remove("hidden");
                    });
                });

                // Close lightbox on close button click
                lightboxClose.addEventListener("click", () => {
                    lightbox.classList.add("hidden");
                });

                // Close lightbox on outside click
                lightbox.addEventListener("click", (e) => {
                    if (e.target === lightbox) {
                        lightbox.classList.add("hidden");
                    }
                });
            });
        </script>
                <script>
                    import { galleryClick } from '../data/lightbox.js';
                    galleryClick(); 
                </script>
    </BaseLayout>
</html>
